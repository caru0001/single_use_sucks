---
import MainLayout from "../layouts/MainLayout.astro";
import NaturalLanguageForm from "../components/NaturalLanguageForm.astro";
import { Image } from "astro:assets";
import plasticbag from "../assets/images/plastikpose.webp";
import plasticbottle from "../assets/images/plastikflaske.webp";
import plasticfork from "../assets/images/plastikgaffel.webp";
import plasticspoon from "../assets/images/plastikske.webp";
import plasticcup from "../assets/images/plastikkopgennemsigtig.webp";
import Whale1 from "../components/whale1.astro";
import PlasticPercentage from "../components/PlasticPercentage.astro";
import Quote from "../components/Quote.astro";
import PlasticvsPlastic from "../components/PlasticvsPlastic.astro";
import Whale2 from "../components/Whale2.astro";
import Diagram from "../components/Diagram.astro";
import Turtle from "../components/Turtle.astro";
import Support from "../components/Support.astro";
---

<MainLayout title="#singleusesucks">
  <section id="hero" class="w-full h-screen bg-cover bg-center bg-[url('/hero_background.webp')] pb-24 mb-56">
    <div class="pt-4">
      <div x-data="{ showMenu: false }" class="px-8 pb-2 pt-2 w-full">
        <div id="navbar" class="flex flex-row justify-between items-center">
          <div id="logo" class="flex items-center py-2">
            <a href="/">
              <p class="text-custom-offwhite">plastic change</p>
            </a>
          </div>
          <div class="z-10 mr-10">
            <button type="submit" class="bg-custom-green font-poppins px-10 py-2 uppercase text-custom-offwhite font-bold shadow-lg opacity-90" @click="alert('Mange tak for din støtte! Dit bidrag gør en stor forskel i kampen mod single use plastik og plastikforurening.')">Støt nu</button>
          </div>
          <!-- Burger menu -->
          <button id="burgermenu" class="mr-4 fixed right-0 z-50" @click="showMenu = !showMenu">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-8 h-8 text-[#EBF4E9]">
              <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"></path>
            </svg>
          </button>
        </div>
        <!-- Dropdown Menu -->
        <nav id="mobilmenu" x-show="showMenu" x-transition class="flex flex-col items-end text-custom-offwhite pt-4 pr-4 font-medium fixed right-0 z-50">
          <ul class="w-full text-right">
            <li class="py-2"><a href="/" class="block w-full px-4 py-2 no-underline">Plastproblemet</a></li>
            <li class="py-2"><a href="/" class="block w-full px-4 py-2 no-underline">Om plastic change</a></li>
            <li class="py-2"><a href="/form" class="block w-full px-4 py-2 no-underline">Hvad kan du gøre?</a></li>
          </ul>
        </nav>
      </div>
    </div>
    <div class="pt-12 px-16 z-10 relative">
      <h1 class="font-bebas text-custom-orange text-9xl mb-4">#singleusesucks</h1>
      <NaturalLanguageForm />
    </div>
    <Image class="absolute z-0 w-[25%] animate__wobble animate__animated plasticanimation" style="animation-duration: 20s; left: 600px; top: 55%;" src={plasticbag} alt="plastic bag" />
    <Image class="absolute z-0 w-[15%] animate__wobble animate__animated plasticanimation" style="animation-duration: 20s; left: 950px; top: 25%; transform: rotate(80deg)" src={plasticbag} alt="plastic bag" />
    <Image class="absolute z-0 w-[20%] animate__wobble animate__animated plasticanimation" style="animation-duration: 20s; left: 30px; top: 60%; transform: rotate(100deg)" src={plasticbottle} alt="plastic bag" />
    <Image class="absolute z-0 w-[10%]" style="animate__wobble animate__animated plasticanimation animation-duration: 20s; left: 1000px; top: 70%; transform: rotate(260deg)" src={plasticbottle} alt="plastic bag" />
    <Image class="absolute z-0 w-[10%] h-auto max-w-none" style="animation-duration: 20s; left: 380px; top: 70%; transform: rotate(300deg)" src={plasticfork} alt="plastic bag" />
    <Image class="absolute z-0 w-[7%] h-auto max-w-none" style="animation-duration: 20s; left: 900px; top: 60%; transform: rotate(10deg)" src={plasticfork} alt="plastic bag" />
    <Image class="absolute z-0 w-[9%] h-auto max-w-none" style="animation-duration: 20s; left: 670px; top: 70%; transform: rotate(-30deg)" src={plasticspoon} alt="plastic bag" />
    <Image class="absolute z-0 w-[9%] h-auto max-w-none opacity-70" style="animation-duration: 20s; left: 1150px; top: 60%; transform: rotate(-30deg)" src={plasticcup} alt="plastic bag" />
  </section>

  <Whale1 />
  <PlasticPercentage />
  <Quote />
  <PlasticvsPlastic />
  <Whale2 />
  <Diagram />
  <Turtle />
  <Support />
</MainLayout>

<script>
  import { animate, stagger, inView, scroll, timeline } from "motion";
  scroll(animate(".progress-bar", { scaleX: [0, 1] }));

  scroll(animate(".parallaxelement", { y: [0, 150] }), {
    target: document.querySelector(".parallaxelement"),
  });

  const animation = document.querySelector(".plasticanimation");
  inView(animation, () => {
    animation.classList.add("animate__animated", "animate__delay-1s", "animate__infinite", "ease-in-out");
  });
</script>
